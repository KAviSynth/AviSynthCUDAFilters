clip10 = LWLibavVideoSource("T:\sandbox\t28\05\03_aikatsu.ts")
clip9 = NNEDI3(clip10,field=-2,nsize=1,nns=1,qual=1,threads=0,U=True,V=True)
clip11 = MSuper(clip9,pel=2,sharp=2,levels=1,hpad=8,vpad=8)
clip32 = SeparateFields(clip10)
clip31 = SelectEven(clip32)
clip30 = ExtractU(clip31)
clip33 = ExtractV(clip31)
clip29 = Interleave(clip30,clip33)
clip28 = BicubicResize(clip29,720,540,0,0.5,0,0.25,720,270)
clip27 = AssumeFrameBased(clip28)
clip26 = SelectEven(clip27)
clip39 = SelectOdd(clip32)
clip38 = ExtractU(clip39)
clip40 = ExtractV(clip39)
clip37 = Interleave(clip38,clip40)
clip36 = BicubicResize(clip37,720,540,0,0.5,0,-0.25,720,270)
clip35 = AssumeFrameBased(clip36)
clip34 = SelectEven(clip35)
clip25 = Interleave(clip26,clip34)
clip42 = SelectOdd(clip27)
clip43 = SelectOdd(clip35)
clip41 = Interleave(clip42,clip43)
clip47 = ConvertToY(clip31)
clip46 = BicubicResize(clip47,1440,1080,0,0.5,0,0.25,1440,540)
clip45 = AssumeFrameBased(clip46)
clip50 = ConvertToY(clip39)
clip49 = BicubicResize(clip50,1440,1080,0,0.5,0,-0.25,1440,540)
clip48 = AssumeFrameBased(clip49)
clip44 = Interleave(clip45,clip48)
clip24 = YToUV(clip25,clip41,clip44)
clip23 = AssumeTFF(clip24)
clip22 = TemporalSoften(clip23,1,255,255,28,2)
clip51 = TemporalSoften(clip23,2,255,255,28,2)
clip21 = Merge(clip22,clip51,0.35699999)
clip20 = Merge(clip21,clip23,0.125)
clip54 = mt_makediff(clip23,clip20,U=3,V=3)
clip59 = mt_inpand(clip54,mode="vertical",U=3,V=3)
clip58 = mt_inpand(clip59,mode="vertical",U=3,V=3)
clip60 = RemoveGrain(clip58,20,20,20)
clip57 = mt_logic(clip58,clip60,"min",Y=3,U=3,V=3)
clip56 = mt_expand(clip57,mode="vertical",U=3,V=3)
clip55 = mt_expand(clip56,mode="vertical",U=3,V=3)
clip53 = mt_lutxy(clip54,clip55,"x 129 scalef < x y range_half < range_half y ? ?",U=3,V=3)
clip65 = mt_expand(clip54,mode="vertical",U=3,V=3)
clip64 = mt_expand(clip65,mode="vertical",U=3,V=3)
clip66 = RemoveGrain(clip64,20,20,20)
clip63 = mt_logic(clip64,clip66,"max",Y=3,U=3,V=3)
clip62 = mt_inpand(clip63,mode="vertical",U=3,V=3)
clip61 = mt_inpand(clip62,mode="vertical",U=3,V=3)
clip52 = mt_lutxy(clip53,clip61,"x 127 scalef > x y range_half > range_half y ? ?",U=3,V=3)
clip19 = mt_adddiff(clip20,clip52,U=3,V=3)
clip18 = RemoveGrain(clip19,12,12)
clip17 = GaussResize(clip18,1440,1080,0,0,1440.0001,1080.0001,p=2)
clip16 = Merge(clip17,clip19,0.1)
clip67 = mt_lutxy(clip19,clip23,"x 3 scalef + y < x 3 scalef + x 3 scalef - y > x 3 scalef - y ? ?",U=3,V=3)
clip15 = mt_lutxy(clip16,clip67,"x 7 scalef + y < x 2 scalef + x 7 scalef - y > x 2 scalef - x 51 * y 49 * + 100 / ? ?",U=3,V=3)
clip14 = mt_lut(clip15,yexpr="0.000000 1.062500 0.066406 x 16 - 219 / 0 1 clip 0.062500 + / - * x 16 - 219 / 0 1 clip 1 0.000000 - * + 255 *",expr="x 128 - 128 * 112 / 128 +",y=3,u=3,v=3)
clip13 = MSuper(clip14,pel=2,sharp=2,hpad=8,vpad=8,chroma=True)
clip12 = MAnalyse(clip13,isb=True,delta=1,blksize=16,overlap=8,search=4,searchparam=2,pelsearch=2,truemotion=False,lambda=400,lsad=400,pnew=25,plevel=0,global=True,DCT=0,chroma=True)
clip68 = MAnalyse(clip13,isb=False,delta=1,blksize=16,overlap=8,search=4,searchparam=2,pelsearch=2,truemotion=False,lambda=400,lsad=400,pnew=25,plevel=0,global=True,DCT=0,chroma=True)
clip8 = MDegrain1(clip9,clip11,clip12,clip68,thSAD=640,thSCD1=180,thSCD2=98,lsb=False)
clip70 = MAnalyse(clip13,isb=True,delta=2,blksize=16,overlap=8,search=4,searchparam=2,pelsearch=2,truemotion=False,lambda=400,lsad=400,pnew=25,plevel=0,global=True,DCT=0,chroma=True)
clip71 = MAnalyse(clip13,isb=False,delta=2,blksize=16,overlap=8,search=4,searchparam=2,pelsearch=2,truemotion=False,lambda=400,lsad=400,pnew=25,plevel=0,global=True,DCT=0,chroma=True)
clip69 = MDegrain1(clip9,clip11,clip70,clip71,thSAD=640,thSCD1=180,thSCD2=98,lsb=False)
clip7 = Merge(clip8,clip69,0.2)
clip6 = Merge(clip7,clip9,0.0625)
clip74 = mt_expand(clip6,mode="vertical",U=3,V=3)
clip75 = mt_inpand(clip6,mode="vertical",U=3,V=3)
clip73 = Merge(clip74,clip75)
clip72 = RemoveGrain(clip73,12)
clip5 = mt_lutxy(clip6,clip72,"clamp_f x x y - 1.500000 * +",U=3,V=3)
clip78 = mt_makediff(clip5,clip6,U=1,V=1)
clip77 = RemoveGrain(clip78,12,-1)
clip76 = GaussResize(clip77,1440,1080,0,0,1440.0001,1080.0001,p=5)
clip4 = mt_makediff(clip5,clip76,U=2,V=2)
clip81 = MCompensate(clip9,clip11,clip68,thSCD1=180,thSCD2=98)
clip80 = mt_logic(clip9,clip81,"max",U=3,V=3)
clip82 = MCompensate(clip9,clip11,clip12,thSCD1=180,thSCD2=98)
clip79 = mt_logic(clip80,clip82,"max",U=3,V=3)
clip84 = mt_logic(clip9,clip81,"min",U=3,V=3)
clip83 = mt_logic(clip84,clip82,"min",U=3,V=3)
clip3 = mt_clamp(clip4,clip79,clip83,0,0,U=3,V=3)
clip85 = MSuper(clip3,pel=2,sharp=2,levels=1,hpad=8,vpad=8)
clip2 = MDegrain1(clip3,clip85,clip12,clip68,thSAD=256,thSCD1=180,thSCD2=98,lsb=False)
clip88 = mt_makediff(clip9,clip2,U=3,V=3)
clip93 = mt_inpand(clip88,mode="vertical",U=3,V=3)
clip92 = mt_inpand(clip93,mode="vertical",U=3,V=3)
clip94 = RemoveGrain(clip92,20,20,20)
clip91 = mt_logic(clip92,clip94,"min",Y=3,U=3,V=3)
clip90 = mt_expand(clip91,mode="vertical",U=3,V=3)
clip89 = mt_expand(clip90,mode="vertical",U=3,V=3)
clip87 = mt_lutxy(clip88,clip89,"x 129 scalef < x y range_half < range_half y ? ?",U=3,V=3)
clip99 = mt_expand(clip88,mode="vertical",U=3,V=3)
clip98 = mt_expand(clip99,mode="vertical",U=3,V=3)
clip100 = RemoveGrain(clip98,20,20,20)
clip97 = mt_logic(clip98,clip100,"max",Y=3,U=3,V=3)
clip96 = mt_inpand(clip97,mode="vertical",U=3,V=3)
clip95 = mt_inpand(clip96,mode="vertical",U=3,V=3)
clip86 = mt_lutxy(clip87,clip95,"x 127 scalef > x y range_half > range_half y ? ?",U=3,V=3)
clip1 = mt_adddiff(clip2,clip86,U=3,V=3)
mt_makediff(clip1, clip10.QTGMC(), u=3, v=3).mt_lut("x 128 < 20 x 128 > 200 128 ? ?", u=3, v=3)
